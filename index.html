<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.4.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.4.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="lfå°å“‡">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="lfå°å“‡">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="lfå°å“‡">






  <link rel="canonical" href="http://yoursite.com/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>lfå°å“‡</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">lfå°å“‡</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">æˆ˜æ–—åˆ°åº•ï¼</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/18/Mac-å®‰è£…å’Œä½¿ç”¨MongoDB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="å° å“‡">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lfå°å“‡">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/18/Mac-å®‰è£…å’Œä½¿ç”¨MongoDB/" itemprop="url">
                  Mac å®‰è£…å’Œä½¿ç”¨MongoDB
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-07-18 16:27:24" itemprop="dateCreated datePublished" datetime="2018-07-18T16:27:24+08:00">2018-07-18</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-07-20 16:11:30" itemprop="dateModified" datetime="2018-07-20T16:11:30+08:00">2018-07-20</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="é‡‡ç”¨Homebrew"><a href="#é‡‡ç”¨Homebrew" class="headerlink" title="é‡‡ç”¨Homebrew:"></a>é‡‡ç”¨Homebrew:</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install mongodb --<span class="keyword">with</span>-openssl</span><br></pre></td></tr></table></figure>
<p>brew â€“cache    æŸ¥çœ‹brewç¼“å­˜åœ°å€</p>
<p>mongod -version    æŸ¥çœ‹mongodbç‰ˆæœ¬</p>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p>å¯åŠ¨å’Œåœæ­¢mongodbæ•°æ®åº“</p>
<p>1ã€æ–¹æ³•ä¸€ï¼šä½¿ç”¨bashç»ˆç«¯</p>
<p>å¯åŠ¨ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ongod --config /usr/local/etc/mongod.conf  <span class="comment">// å¯åŠ¨</span></span><br><span class="line"><span class="comment">//æˆ–</span></span><br><span class="line">mongod --dbpath .                           <span class="comment">// å¯åŠ¨</span></span><br></pre></td></tr></table></figure></p>
<p>å¯åŠ¨æˆåŠŸåå¯ä»¥åœ¨macçš„â€œæ´»åŠ¨ç›‘è§†å™¨â€ä¸­çœ‹åˆ°è¿›ç¨‹mongodï¼Œåœæ­¢åˆ™å…³é—­è¿›ç¨‹ã€‚</p>
<p>åœæ­¢ï¼š </p>
<p>ä½¿ç”¨command+Tåœ¨åŒä¸€çª—å£ä¸­å»ºç«‹å¤šæ ‡ç­¾ç»ˆç«¯ï¼Œåœ¨æ–°çš„bashä¸­è¾“å…¥ï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mongo                                       # è¿›å…¥mongoå‘½ä»¤è¡Œ</span><br><span class="line">&gt; use admin</span><br><span class="line">&gt; db.shutdownServer()                       # åœæ­¢</span><br><span class="line">&gt; ctrl+C                                    # é€€å‡ºmongoå‘½ä»¤è¡Œ</span><br></pre></td></tr></table></figure>
<p>è¿›å…¥mongoå‘½ä»¤è¡Œå¯ä»¥åœ¨macçš„â€œæ´»åŠ¨ç›‘è§†å™¨â€ä¸­çœ‹åˆ°è¿›ç¨‹mongoï¼Œé€€å‡ºåˆ™å…³é—­è¿›ç¨‹ã€‚</p>
<p>2ã€æ–¹æ³•äºŒï¼šä½¿ç”¨homebrew</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew services start mongodb                 # å¯åŠ¨</span><br><span class="line">brew services restart mongodb               # é‡å¯</span><br><span class="line">brew services stop mongodb                  # åœæ­¢</span><br></pre></td></tr></table></figure>
<p>å¯åŠ¨æˆåŠŸä¹‹åï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt;mongo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">MongoDB shell version v4<span class="number">.0</span><span class="number">.0</span></span><br><span class="line">connecting to: mongodb:<span class="comment">//127.0.0.1:27017</span></span><br><span class="line">MongoDB server version: <span class="number">4.0</span><span class="number">.0</span></span><br><span class="line">Server has startup warnings:</span><br><span class="line"><span class="number">2018</span><span class="number">-07</span><span class="number">-18</span>T16:<span class="number">32</span>:<span class="number">33.724</span>+<span class="number">0800</span> I CONTROL  [initandlisten]</span><br><span class="line"><span class="number">2018</span><span class="number">-07</span><span class="number">-18</span>T16:<span class="number">32</span>:<span class="number">33.724</span>+<span class="number">0800</span> I CONTROL  [initandlisten] ** WARNING: Access control is not enabled <span class="keyword">for</span> the database.</span><br><span class="line"><span class="number">2018</span><span class="number">-07</span><span class="number">-18</span>T16:<span class="number">32</span>:<span class="number">33.724</span>+<span class="number">0800</span> I CONTROL  [initandlisten] **          Read and write access to data and configuration is unrestricted.</span><br><span class="line"><span class="number">2018</span><span class="number">-07</span><span class="number">-18</span>T16:<span class="number">32</span>:<span class="number">33.724</span>+<span class="number">0800</span> I CONTROL  [initandlisten]</span><br><span class="line">---</span><br><span class="line">Enable MongoDB<span class="string">'s free cloud-based monitoring service to collect and display</span></span><br><span class="line"><span class="string">metrics about your deployment (disk utilization, CPU, operation statistics,</span></span><br><span class="line"><span class="string">etc).</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">The monitoring data will be available on a MongoDB website with a unique</span></span><br><span class="line"><span class="string">URL created for you. Anyone you share theURL with will also be able to</span></span><br><span class="line"><span class="string">view this page. MongoDB may use this information to make product</span></span><br><span class="line"><span class="string">improvements and to suggest MongoDB products and deployment options to you.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">To enable free monitoring, run the following command:</span></span><br><span class="line"><span class="string">db.enableFreeMonitoring()</span></span><br><span class="line"><span class="string">---</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; show dbs</span><br><span class="line">admin  <span class="number">0.000</span>GB</span><br><span class="line">local  <span class="number">0.000</span>GB</span><br><span class="line">help</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/18/æµ…è°ˆç§»åŠ¨ç«¯remé€‚é…/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="å° å“‡">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lfå°å“‡">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/18/æµ…è°ˆç§»åŠ¨ç«¯remé€‚é…/" itemprop="url">
                  æµ…è°ˆç§»åŠ¨ç«¯remé€‚é…
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-07-18 13:05:05 / Modified: 13:11:25" itemprop="dateCreated datePublished" datetime="2018-07-18T13:05:05+08:00">2018-07-18</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="remæ˜¯ä»€ä¹ˆ"><a href="#remæ˜¯ä»€ä¹ˆ" class="headerlink" title="remæ˜¯ä»€ä¹ˆ"></a>remæ˜¯ä»€ä¹ˆ</h3><p>remï¼ˆfont size of the root elementï¼‰æ˜¯æŒ‡ç›¸å¯¹äºæ ¹å…ƒç´ çš„å­—ä½“å¤§å°çš„å•ä½ã€‚ç®€å•çš„è¯´å®ƒå°±æ˜¯ä¸€ä¸ªç›¸å¯¹å•ä½ã€‚çœ‹åˆ°remå¤§å®¶ä¸€å®šä¼šæƒ³èµ·emå•ä½ï¼Œemï¼ˆfont size of the elementï¼‰æ˜¯æŒ‡ç›¸å¯¹äºçˆ¶å…ƒç´ çš„å­—ä½“å¤§å°çš„å•ä½ã€‚å®ƒä»¬ä¹‹é—´å…¶å®å¾ˆç›¸ä¼¼ï¼Œåªä¸è¿‡remè®¡ç®—çš„è§„åˆ™æ˜¯ä¾èµ–æ ¹å…ƒç´ ,emæ˜¯ä¾èµ–çˆ¶å…ƒç´ è®¡ç®—ã€‚</p>
<h3 id="remå¸ƒå±€åŸç†"><a href="#remå¸ƒå±€åŸç†" class="headerlink" title="remå¸ƒå±€åŸç†"></a>remå¸ƒå±€åŸç†</h3><p>æ‹¿åˆ°è®¾è®¡ç¨¿ï¼ŒæŒ‰ç…§è®¾è®¡ç¨¿çš„å®½å»è®¾ç½®ä¸€ä¸ªåˆé€‚çš„rem ,é…åˆjsæŸ¥è¯¢å±å¹•å¤§å°æ¥æ”¹å˜htmlçš„font-sizeï¼Œä»è€Œè¾¾åˆ°é€‚é…å„ç§å±å¹•çš„æ•ˆæœ</p>
<h3 id="remå¸ƒå±€ä¼˜ç¼ºç‚¹"><a href="#remå¸ƒå±€ä¼˜ç¼ºç‚¹" class="headerlink" title="remå¸ƒå±€ä¼˜ç¼ºç‚¹"></a>remå¸ƒå±€ä¼˜ç¼ºç‚¹</h3><p>ä¼˜ç‚¹ï¼Œå®½åº¦è‡ªé€‚åº”ï¼Œå¯ä»¥å®Œç¾é€‚é…ä¸åŒå®½åº¦çš„å±å¹•</p>
<p>ç¼ºç‚¹ï¼Œé«˜åº¦ä¸å›ºå®šï¼Œå¦‚æœé‡åˆ°é«˜åº¦è¦æ±‚å¾ˆä¸¥æ ¼çš„å°±å®ç°ä¸äº†</p>
<p>ç½‘ä¸Šæœ‰å¾ˆå¤šè§£å†³çš„æ–¹æ¡ˆï¼Œæˆ‘å¸¸ç”¨çš„æ˜¯</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€‚é…ç§»åŠ¨ç«¯</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> *    å½“æ‹¿åˆ°çš„è®¾è®¡å›¾å®½ä¸º750pxæ—¶ï¼Œåœ¨è°·æ­Œå®½ä¸º375pxçš„è°ƒè¯•æœºä¸Šï¼Œå¦‚ä¸‹è®¾ç½®</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> *    Â· å› ä¸ºhtmlæ ¹å…ƒç´ çš„å­—ä½“å¤§å°æ˜¯16pxï¼Œé‚£ä¹ˆæ¢æˆremå•ä½ï¼Œç›´æ¥é™¤ä»¥16å°±å¥½ï¼› </span></span><br><span class="line"><span class="comment"> *     ï¼ˆ375/16 = 23.4375pxï¼‰ä¹Ÿå°±æ˜¯è¯´htmlDom.style.fontSize = 375/23.4375 = 16px</span></span><br><span class="line"><span class="comment"> *    Â· å½“å›¾çº¸æœ‰ä¸€ä¸ªå®½ä¸º680pxçš„ç›’å­æ—¶ï¼Œæ­¤æ—¶æ¢ç®—æˆremçš„å€¼ä¸º 680/16/2 = 21.25rem;ä¹Ÿå°±æ˜¯è¯´680/32</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å¾—åˆ°æ‰‹æœºå±å¹•çš„å®½åº¦</span></span><br><span class="line">  <span class="keyword">let</span> htmlWidth = <span class="built_in">document</span>.documentElement.clientWidth || <span class="built_in">document</span>.body.clientWidth;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å¾—åˆ°htmlçš„Domå…ƒç´ </span></span><br><span class="line">  <span class="keyword">let</span> htmlDom = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'html'</span>)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">  <span class="comment">//è®¾ç½®æ ¹å…ƒç´ å­—ä½“å¤§å°</span></span><br><span class="line">  htmlDom.style.fontSize= htmlWidth/<span class="number">23.4375</span> + <span class="string">'px'</span>;</span><br><span class="line"></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/17/jsè·å–å½“å‰åŸŸåã€Urlã€ç›¸å¯¹è·¯å¾„å’Œå‚æ•°ä»¥åŠæŒ‡å®šå‚æ•°/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="å° å“‡">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lfå°å“‡">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/17/jsè·å–å½“å‰åŸŸåã€Urlã€ç›¸å¯¹è·¯å¾„å’Œå‚æ•°ä»¥åŠæŒ‡å®šå‚æ•°/" itemprop="url">
                  jsè·å–å½“å‰åŸŸåã€Urlã€ç›¸å¯¹è·¯å¾„å’Œå‚æ•°ä»¥åŠæŒ‡å®šå‚æ•°
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-07-17 14:43:26 / Modified: 15:13:47" itemprop="dateCreated datePublished" datetime="2018-07-17T14:43:26+08:00">2018-07-17</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="window-locationä¸‹çš„å±æ€§è¯´æ˜"><a href="#window-locationä¸‹çš„å±æ€§è¯´æ˜" class="headerlink" title="window.locationä¸‹çš„å±æ€§è¯´æ˜"></a>window.locationä¸‹çš„å±æ€§è¯´æ˜</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> href  =  <span class="built_in">window</span>.location.href;<span class="comment">//å®Œæ•´çš„url</span></span><br><span class="line"><span class="keyword">var</span> protocol  =  <span class="built_in">window</span>.location.protocol;<span class="comment">//åè®®</span></span><br><span class="line"><span class="keyword">var</span> hostname  =  <span class="built_in">window</span>.location.hostname;<span class="comment">//ä¸»æœºå</span></span><br><span class="line"><span class="keyword">var</span> host  =  <span class="built_in">window</span>.location.host;<span class="comment">//ä¸»æœºå+ç«¯å£å·</span></span><br><span class="line"><span class="keyword">var</span> port = <span class="built_in">window</span>.location.port;<span class="comment">//ç«¯å£å·</span></span><br><span class="line"><span class="keyword">var</span> pathname = <span class="built_in">window</span>.location.pathname;<span class="comment">//å½“å‰URLçš„è·¯å¾„éƒ¨åˆ†</span></span><br><span class="line"><span class="keyword">var</span> search = <span class="built_in">window</span>.location.search;<span class="comment">//è·¯å¾„çš„æŸ¥è¯¢éƒ¨åˆ†</span></span><br><span class="line"><span class="keyword">var</span> hash = <span class="built_in">window</span>.location.hash;<span class="comment">//å¼€å§‹çš„é”šç‚¹</span></span><br></pre></td></tr></table></figure>
<p><img src="/2018/07/17/jsè·å–å½“å‰åŸŸåã€Urlã€ç›¸å¯¹è·¯å¾„å’Œå‚æ•°ä»¥åŠæŒ‡å®šå‚æ•°/1.png" alt="bg"><br><img src="/2018/07/17/jsè·å–å½“å‰åŸŸåã€Urlã€ç›¸å¯¹è·¯å¾„å’Œå‚æ•°ä»¥åŠæŒ‡å®šå‚æ•°/2.png" alt="bg"></p>
<h3 id="ä¸€ã€jsè·å–å½“å‰åŸŸåæœ‰2ç§æ–¹æ³•"><a href="#ä¸€ã€jsè·å–å½“å‰åŸŸåæœ‰2ç§æ–¹æ³•" class="headerlink" title="ä¸€ã€jsè·å–å½“å‰åŸŸåæœ‰2ç§æ–¹æ³•"></a>ä¸€ã€jsè·å–å½“å‰åŸŸåæœ‰2ç§æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ã€€ã€€<span class="comment">//1ã€æ–¹æ³•ä¸€</span></span><br><span class="line">ã€€ã€€<span class="keyword">var</span> domain = <span class="built_in">document</span>.domain;</span><br><span class="line"></span><br><span class="line">ã€€ã€€<span class="comment">//2ã€æ–¹æ³•äºŒ</span></span><br><span class="line">ã€€ã€€<span class="keyword">var</span> domain = <span class="built_in">window</span>.location.host;</span><br></pre></td></tr></table></figure>
<h4 id="æ³¨æ„é—®é¢˜"><a href="#æ³¨æ„é—®é¢˜" class="headerlink" title="æ³¨æ„é—®é¢˜"></a>æ³¨æ„é—®é¢˜</h4><p>ç”±äºè·å–åˆ°çš„å½“å‰åŸŸåä¸åŒ…æ‹¬ http://ï¼Œæ‰€ä»¥æŠŠè·å–åˆ°çš„åŸŸåèµ‹ç»™ a æ ‡ç­¾çš„ href æ—¶ï¼Œåˆ«å¿˜äº†åŠ ä¸Š http://ï¼Œå¦åˆ™å•å‡»é“¾æ¥æ—¶å¯¼èˆªä¼šå‡ºé”™ã€‚</p>
<h3 id="äºŒã€è·å–å½“å‰Urlçš„4ç§æ–¹æ³•"><a href="#äºŒã€è·å–å½“å‰Urlçš„4ç§æ–¹æ³•" class="headerlink" title="äºŒã€è·å–å½“å‰Urlçš„4ç§æ–¹æ³•"></a>äºŒã€è·å–å½“å‰Urlçš„4ç§æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ã€€ã€€<span class="keyword">var</span> url = <span class="built_in">window</span>.location.href;</span><br><span class="line"></span><br><span class="line">ã€€ã€€<span class="keyword">var</span> url = self.location.href;</span><br><span class="line"></span><br><span class="line">ã€€ã€€<span class="keyword">var</span> url = <span class="built_in">document</span>.URL;</span><br><span class="line"></span><br><span class="line">ã€€ã€€<span class="keyword">var</span> url = <span class="built_in">document</span>.location;</span><br></pre></td></tr></table></figure>
<h3 id="ä¸‰ã€è·å–å½“å‰ç›¸å¯¹è·¯å¾„çš„æ–¹æ³•"><a href="#ä¸‰ã€è·å–å½“å‰ç›¸å¯¹è·¯å¾„çš„æ–¹æ³•" class="headerlink" title="ä¸‰ã€è·å–å½“å‰ç›¸å¯¹è·¯å¾„çš„æ–¹æ³•"></a>ä¸‰ã€è·å–å½“å‰ç›¸å¯¹è·¯å¾„çš„æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é¦–å…ˆè·å– Urlï¼Œç„¶åæŠŠ Url é€šè¿‡ // æˆªæˆä¸¤éƒ¨åˆ†ï¼Œå†ä»åä¸€éƒ¨åˆ†ä¸­æˆªå–ç›¸å¯¹è·¯å¾„ã€‚å¦‚æœæˆªå–åˆ°çš„ç›¸å¯¹è·¯å¾„ä¸­æœ‰å‚æ•°ï¼Œåˆ™æŠŠå‚æ•°å»æ‰ã€‚</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€<span class="function"><span class="keyword">function</span> <span class="title">GetUrlRelativePath</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">ã€€ã€€</span>&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">var</span> url = <span class="built_in">document</span>.location.toString();</span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">var</span> arrUrl = url.split(<span class="string">"//"</span>);</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">var</span> start = arrUrl[<span class="number">1</span>].indexOf(<span class="string">"/"</span>);</span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">var</span> relUrl = arrUrl[<span class="number">1</span>].substring(start);<span class="comment">//stopçœç•¥ï¼Œæˆªå–ä»startå¼€å§‹åˆ°ç»“å°¾çš„æ‰€æœ‰å­—ç¬¦</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">if</span>(relUrl.indexOf(<span class="string">"?"</span>) != <span class="number">-1</span>)&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€relUrl = relUrl.split(<span class="string">"?"</span>)[<span class="number">0</span>];</span><br><span class="line">ã€€ã€€ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">return</span> relUrl;</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line"></span><br><span class="line">ã€€ã€€<span class="comment">//è°ƒç”¨æ–¹æ³•ï¼šGetUrlRelativePath();</span></span><br></pre></td></tr></table></figure>
<h3 id="å››ã€è·å–å½“å‰Urlå‚æ•°çš„æ–¹æ³•"><a href="#å››ã€è·å–å½“å‰Urlå‚æ•°çš„æ–¹æ³•" class="headerlink" title="å››ã€è·å–å½“å‰Urlå‚æ•°çš„æ–¹æ³•"></a>å››ã€è·å–å½“å‰Urlå‚æ•°çš„æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1ã€è·å–Urlå‚æ•°éƒ¨åˆ†</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€<span class="function"><span class="keyword">function</span> <span class="title">GetUrlPara</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">ã€€ã€€</span>&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">var</span> url = <span class="built_in">document</span>.location.toString();</span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">var</span> arrUrl = url.split(<span class="string">"?"</span>);</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">var</span> para = arrUrl[<span class="number">1</span>];</span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">return</span> para;</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line"></span><br><span class="line">ã€€ã€€<span class="comment">//è°ƒç”¨æ–¹æ³•ï¼šGetUrlPara()</span></span><br></pre></td></tr></table></figure>
<h3 id="äº”ã€è·å–æŒ‡å®šUrlå‚æ•°çš„æ–¹æ³•"><a href="#äº”ã€è·å–æŒ‡å®šUrlå‚æ•°çš„æ–¹æ³•" class="headerlink" title="äº”ã€è·å–æŒ‡å®šUrlå‚æ•°çš„æ–¹æ³•"></a>äº”ã€è·å–æŒ‡å®šUrlå‚æ•°çš„æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">ã€€<span class="comment">//paraName ç­‰æ‰¾å‚æ•°çš„åç§°</span></span><br><span class="line">ã€€ã€€<span class="function"><span class="keyword">function</span> <span class="title">GetUrlParam</span>(<span class="params">paraName</span>) </span>&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">var</span> url = <span class="built_in">document</span>.location.toString();</span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">var</span> arrObj = url.split(<span class="string">"?"</span>);</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">if</span> (arrObj.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€<span class="keyword">var</span> arrPara = arrObj[<span class="number">1</span>].split(<span class="string">"&amp;"</span>);</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€<span class="keyword">var</span> arr;</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arrPara.length; i++) &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€arr = arrPara[i].split(<span class="string">"="</span>);</span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€<span class="keyword">if</span> (arr != <span class="literal">null</span> &amp;&amp; arr[<span class="number">0</span>] == paraName) &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€<span class="keyword">return</span> arr[<span class="number">1</span>];</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€<span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">ã€€ã€€ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€ã€€ã€€<span class="keyword">else</span> &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€<span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">ã€€ã€€ã€€ã€€&#125;</span><br><span class="line">ã€€ã€€&#125;</span><br><span class="line"></span><br><span class="line">ã€€<span class="comment">//ã€€è°ƒç”¨æ–¹æ³•ï¼šGetUrlParam("id");</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/16/canvaså›¾ç‰‡é—®é¢˜æµ…æ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="å° å“‡">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lfå°å“‡">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/16/canvaså›¾ç‰‡é—®é¢˜æµ…æ/" itemprop="url">
                  canvaså›¾ç‰‡é—®é¢˜æµ…æ
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-07-16 14:21:54" itemprop="dateCreated datePublished" datetime="2018-07-16T14:21:54+08:00">2018-07-16</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-07-17 14:49:39" itemprop="dateModified" datetime="2018-07-17T14:49:39+08:00">2018-07-17</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>è¯´ä¸€ä¸‹æˆ‘çš„ä¸šåŠ¡åœºæ™¯</p>
<p>ç”ŸæˆäºŒç»´ç å¹¶ä¸”åœ¨ä¸­é—´åŠ ä¸ŠLOGOï¼Œå› ä¸ºLOGOæ˜¯é“¾æ¥ï¼Œæ‰€ä»¥ï¼Œä¿å­˜ä¸ºå›¾ç‰‡çš„æ—¶å€™ï¼Œä¼šé‡åˆ°è·¨åŸŸçš„é—®é¢˜</p>
<p>å—é™äº CORS ç­–ç•¥ï¼Œä¼šå­˜åœ¨è·¨åŸŸé—®é¢˜ï¼Œè™½ç„¶å¯ä»¥ä½¿ç”¨å›¾åƒï¼ˆæ¯”å¦‚appendåˆ°é¡µé¢ä¸Šï¼‰ä½†æ˜¯ç»˜åˆ¶åˆ°ç”»å¸ƒä¸Šä¼šæ±¡æŸ“ç”»å¸ƒï¼Œä¸€æ—¦ä¸€ä¸ªç”»å¸ƒè¢«æ±¡æŸ“,å°±æ— æ³•æå–ç”»å¸ƒçš„æ•°æ®ï¼Œæ¯”å¦‚æ— æ³•ä½¿ç”¨ä½¿ç”¨ç”»å¸ƒtoBlob(),toDataURL(),æˆ–getImageData()æ–¹æ³•;å½“ä½¿ç”¨è¿™äº›æ–¹æ³•çš„æ—¶å€™ ä¼šæŠ›å‡ºä¸€ä¸ªå®‰å…¨é”™è¯¯</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Uncaught DOMException: Failed to execute <span class="string">'toDataURL'</span> on <span class="string">'HTMLCanvasElement'</span>: Tainted canvases may not be exported.</span><br></pre></td></tr></table></figure>
<p>è§£å†³æ–¹æ¡ˆå¦‚ä¸‹</p>
<p>å¦‚æœæ˜¯new Image()çš„è¯ï¼Œè¦åŠ ä¸Šä¸€ä¸‹è®¾ç½®ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•ç”¨å¤–éƒ¨å›¾ç‰‡ï¼Œéœ€è®¾ç½® crossOrigin å±æ€§ï¼Œå¦åˆ™ toDataURL è°ƒç”¨å¼‚å¸¸</span></span><br><span class="line">image.setAttribute(<span class="string">'crossOrigin'</span>, <span class="string">'anonymous'</span>);</span><br></pre></td></tr></table></figure>
<p>å®Œæ•´å¦‚ä¸‹:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var canvas=document.getElementById(&quot;canvas&quot;),//è·å–canvas</span><br><span class="line">    ctx = canvas.getContext(&quot;2d&quot;), //å¯¹åº”çš„CanvasRenderingContext2Då¯¹è±¡(ç”»ç¬”)</span><br><span class="line">    img = new Image(),//åˆ›å»ºæ–°çš„å›¾ç‰‡å¯¹è±¡</span><br><span class="line">    base64 = &apos;&apos; ;//base64 </span><br><span class="line">img.src = &apos;http://www.xxxx.png&apos;;</span><br><span class="line">img.setAttribute(&quot;crossOrigin&quot;,&apos;Anonymous&apos;)</span><br><span class="line">img.onload = function()&#123;//å›¾ç‰‡åŠ è½½å®Œï¼Œå†draw å’Œ toDataURL</span><br><span class="line">     ctx.drawImage(img,0,0);    </span><br><span class="line">     base64 = canvas.toDataURL(&quot;image/png&quot;); </span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure></p>
<p>åˆ°æ­¤æ—¶ï¼Œå¦‚æœä½ å·²ç»è§£å†³äº†ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œæ¥ä¸‹æ¥çš„ä¸ç”¨çœ‹äº†ï¼Œå¦‚æœè¿˜æç¤ºå¼‚å¸¸ï¼Œæ¥ç€çœ‹ï¼š</p>
<p>å¦‚æœè®¾ç½®äº†ä¾ç„¶ä¸ç”Ÿæ•ˆï¼Œæ— æ³•ä¿å­˜ä¸ºå›¾ç‰‡ï¼Œé‚£æ˜¯å› ä¸ºç¼“å­˜ </p>
<p>å½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡è®¿é—®æ—¶ï¼Œå›¾ç‰‡åŠ è½½æ…¢ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯ä»æœåŠ¡ç«¯è¯·æ±‚è€Œæ¥ï¼Œå½“æˆ‘ä»¬è¯·æ±‚ä¸‹æ¥ä¹‹åï¼Œå°±ç¼“å­˜åˆ°äº†æµè§ˆå™¨ä¸­ã€‚</p>
<p>è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆè®¾ç½®äº†å±æ€§åè¿˜æŠ¥é”™çš„æƒ…å†µï¼Œè¿™æ—¶å€™ä½ è¦çœ‹çœ‹æ˜¯ä¸æ˜¯åŒæ—¶è¯·æ±‚äº†åŒä¸€å¼ å›¾ç‰‡ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œç¬¬ä¸€æ¬¡è¯·æ±‚å›¾ç‰‡ä»–ä¼šå¸¦è¯·æ±‚å¤´ï¼Œç¬¬äºŒæ¬¡è¯·æ±‚è¿™å¼ å›¾ç‰‡æ—¶ï¼Œä»–ä¼šç›´æ¥å–ç¼“å­˜ä¸­çš„æ•°æ®ï¼Œç„¶åå°±æŒ‚äº†ã€‚</p>
<p>åœ¨å›¾ç‰‡é“¾æ¥åé¢æ‹¼æ¥éšæœºæ•°ã€‚</p>
<p>åœ¨ç”Ÿæˆå›¾ç‰‡å°±OKäº†</p>
<p>åˆ†äº«ä¸€ä¸ªé“¾æ¥ï¼Œè®²çš„å¾ˆä¸é”™ ğŸ‘‰<a href="https://www.jianshu.com/p/c3aa975923de" target="_blank" rel="noopener">https://www.jianshu.com/p/c3aa975923de</a></p>
<p>å¦å¤–ä¸€ç¯‡ï¼š ğŸ‘‰<a href="https://www.cnblogs.com/superil/p/8462042.html" target="_blank" rel="noopener">https://www.cnblogs.com/superil/p/8462042.html</a></p>
<p>åˆ†äº«ä¸¤ä¸ªéå¸¸å¥½çš„æŸ¥è¯¢é—®é¢˜çš„</p>
<p>bugä¹‹å®¶:    <a href="https://stackoverflow.com/" target="_blank" rel="noopener">https://stackoverflow.com/</a></p>
<p>æ–‡æ¡£ä¹‹å®¶:   <a href="https://developer.mozilla.org/en-US/" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/</a></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/12/FastClickç”¨æ³•/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="å° å“‡">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lfå°å“‡">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/12/FastClickç”¨æ³•/" itemprop="url">
                  FastClickç”¨æ³•
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-07-12 15:25:13 / Modified: 15:37:51" itemprop="dateCreated datePublished" datetime="2018-07-12T15:25:13+08:00">2018-07-12</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨FastClick"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨FastClick" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨FastClick"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨FastClick</h3><p>ç§»åŠ¨è®¾å¤‡ä¸Šçš„æµè§ˆå™¨é»˜è®¤ä¼šåœ¨ç”¨æˆ·ç‚¹å‡»å±å¹•å¤§çº¦å»¶è¿Ÿ300æ¯«ç§’åæ‰ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶ï¼Œè¿™æ˜¯ä¸ºäº†æ£€æŸ¥ç”¨æˆ·æ˜¯å¦åœ¨åšåŒå‡»ã€‚ä¸ºäº†èƒ½å¤Ÿç«‹å³å“åº”ç”¨æˆ·çš„ç‚¹å‡»äº‹ä»¶ï¼Œæ‰æœ‰äº†FastClickã€‚</p>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/ftlabs/fastclick" target="_blank" rel="noopener">https://github.com/ftlabs/fastclick</a></p>
<h3 id="FastClickçš„ä½¿ç”¨"><a href="#FastClickçš„ä½¿ç”¨" class="headerlink" title="FastClickçš„ä½¿ç”¨"></a>FastClickçš„ä½¿ç”¨</h3><p>åœ¨é¡µé¢ç›´æ¥å¼•å…¥fastclick.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&apos;application/javascript&apos; src=&apos;/path/to/fastclick.js&apos;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install fastclick</span><br></pre></td></tr></table></figure>
<h3 id="åˆå§‹åŒ–FastClickå®ä¾‹"><a href="#åˆå§‹åŒ–FastClickå®ä¾‹" class="headerlink" title="åˆå§‹åŒ–FastClickå®ä¾‹"></a>åˆå§‹åŒ–FastClickå®ä¾‹</h3><p>åˆå§‹åŒ–FastClickå®ä¾‹å»ºè®®åœ¨é¡µé¢çš„DOMæ–‡æ¡£åŠ è½½å®Œæˆåã€‚</p>
<p>1ã€çº¯Javascriptç‰ˆ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if (&apos;addEventListener&apos; in document) &#123;</span><br><span class="line">	document.addEventListener(&apos;DOMContentLoaded&apos;, function() &#123;</span><br><span class="line">		FastClick.attach(document.body);</span><br><span class="line">	&#125;, false);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>2ã€jQueryç‰ˆ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(function() &#123;</span><br><span class="line">	FastClick.attach(document.body);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>3ã€ç±»ä¼¼Common JSçš„æ¨¡å—ç³»ç»Ÿæ–¹å¼<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var attachFastClick = require(&apos;fastclick&apos;);</span><br><span class="line">attachFastClick(document.body);</span><br></pre></td></tr></table></figure></p>
<p>è°ƒç”¨require(â€˜fastclickâ€™)ä¼šè¿”å›FastClick.attachå‡½æ•°</p>
<h3 id="ä½¿ç”¨needsclickè¿‡æ»¤ç‰¹å®šçš„å…ƒç´ "><a href="#ä½¿ç”¨needsclickè¿‡æ»¤ç‰¹å®šçš„å…ƒç´ " class="headerlink" title="ä½¿ç”¨needsclickè¿‡æ»¤ç‰¹å®šçš„å…ƒç´ "></a>ä½¿ç”¨needsclickè¿‡æ»¤ç‰¹å®šçš„å…ƒç´ </h3><p>å¦‚æœé¡µé¢ä¸Šæœ‰ä¸€äº›ç‰¹å®šçš„å…ƒç´ ä¸éœ€è¦ä½¿ç”¨fastclickæ¥ç«‹åˆ»è§¦å‘ç‚¹å‡»äº‹ä»¶ï¼Œå¯ä»¥åœ¨å…ƒç´ çš„classä¸Šæ·»åŠ needsclick:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"needsclick"</span>&gt;</span>Ignored by FastClick<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="ä¸éœ€è¦ä½¿ç”¨fastclickçš„æƒ…å†µ"><a href="#ä¸éœ€è¦ä½¿ç”¨fastclickçš„æƒ…å†µ" class="headerlink" title="ä¸éœ€è¦ä½¿ç”¨fastclickçš„æƒ…å†µ"></a>ä¸éœ€è¦ä½¿ç”¨fastclickçš„æƒ…å†µ</h3><p>1ã€FastClickæ˜¯ä¸ä¼šå¯¹PCæµè§ˆå™¨æ·»åŠ ç›‘å¬äº‹ä»¶<br>2ã€Androidç‰ˆChrome 32+æµè§ˆå™¨ï¼Œå¦‚æœè®¾ç½®viewport metaçš„å€¼ä¸ºwidth=device-widthï¼Œè¿™ç§æƒ…å†µä¸‹æµè§ˆå™¨ä¼šé©¬ä¸Šå‡ºå‘ç‚¹å‡»äº‹ä»¶ï¼Œä¸ä¼šå»¶è¿Ÿ300æ¯«ç§’ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1"</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>3ã€æ‰€æœ‰ç‰ˆæœ¬çš„Android Chromeæµè§ˆå™¨ï¼Œå¦‚æœè®¾ç½®viewport metaçš„å€¼æœ‰user-scalable=noï¼Œæµè§ˆå™¨ä¹Ÿæ˜¯ä¼šé©¬ä¸Šå‡ºå‘ç‚¹å‡»äº‹ä»¶ã€‚<br>4ã€IE11+æµè§ˆå™¨è®¾ç½®äº†cssçš„å±æ€§touch-action: manipulationï¼Œå®ƒä¼šåœ¨æŸäº›æ ‡ç­¾ï¼ˆaï¼Œbuttonç­‰ï¼‰ç¦æ­¢åŒå‡»äº‹ä»¶ï¼ŒIE10çš„ä¸º-ms-touch-action: manipulation</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/04/vueè£å‰ªå›¾ä»¥åŠæ‰©å±•çš„çŸ¥è¯†ç‚¹/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="å° å“‡">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lfå°å“‡">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/04/vueè£å‰ªå›¾ä»¥åŠæ‰©å±•çš„çŸ¥è¯†ç‚¹/" itemprop="url">
                  vueè£å‰ªå›¾ä»¥åŠæ‰©å±•çš„çŸ¥è¯†ç‚¹
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-07-04 18:16:06 / Modified: 18:27:20" itemprop="dateCreated datePublished" datetime="2018-07-04T18:16:06+08:00">2018-07-04</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>vueçš„æ‰©å±•æ’ä»¶cropperjsæ»¡è¶³äº†åŸºæœ¬çš„éœ€æ±‚ï¼Œé‚£ä¹ˆå½“è£å‰ªå®Œæˆä¸ºäº†base64å›¾çš„æ—¶å€™ï¼Œæ¥ä¸‹é‡Œè¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ</p>
<h3 id="base64å¦‚ä½•ä¸Šä¼ "><a href="#base64å¦‚ä½•ä¸Šä¼ " class="headerlink" title="base64å¦‚ä½•ä¸Šä¼ "></a>base64å¦‚ä½•ä¸Šä¼ </h3><p>base64å±äºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ</p>
<p>é‚£ä¹ˆæˆ‘ä»¬éœ€è¦å°†base64è½¬æ¢äºŒè¿›åˆ¶æ–‡ä»¶å¯¹è±¡ Blob/Base64è½¬æ¢ File å¯¹è±¡</p>
<p>è¡¨å•ä¸­enctype=â€multipart/form-dataâ€çš„æ„æ€ï¼Œæ˜¯è®¾ç½®è¡¨å•çš„MIMEç¼–ç ã€‚</p>
<p>é»˜è®¤æƒ…å†µï¼Œè¿™ä¸ªç¼–ç æ ¼å¼æ˜¯application/x-www-form-urlencodedï¼Œä¸èƒ½ç”¨äºæ–‡ä»¶ä¸Šä¼ ï¼›</p>
<p>åªæœ‰ä½¿ç”¨äº†multipart/form-dataï¼Œæ‰èƒ½å®Œæ•´çš„ä¼ é€’æ–‡ä»¶æ•°æ®ï¼Œè¿›è¡Œä¸‹é¢çš„æ“ä½œ.</p>
<p>formè®¾ç½®äº†enctype=â€multipart/form-dataâ€ å±æ€§åï¼Œå°±æ˜¯2è¿›åˆ¶ä¼ è¾“æ•°æ®äº†</p>
<p>base64è½¬ä¸ºBlob<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">dataURItoBlob(base64Data) &#123;</span><br><span class="line">	let byteString</span><br><span class="line">	if (base64Data.split(&apos;,&apos;)[0].indexOf(&apos;base64&apos;) &gt;= 0)&#123;</span><br><span class="line">		byteString = atob(base64Data.split(&apos;,&apos;)[1])</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		byteString = unescape(base64Data.split(&apos;,&apos;)[1])</span><br><span class="line">	&#125;</span><br><span class="line">	let mimeString = base64Data.split(&apos;,&apos;)[0].split(&apos;:&apos;)[1].split(&apos;;&apos;)[0]</span><br><span class="line">	let ia = new Uint8Array(byteString.length)</span><br><span class="line">	for (var i = 0; i &lt; byteString.length; i++) &#123;</span><br><span class="line">		ia[i] = byteString.charCodeAt(i);</span><br><span class="line">	&#125;</span><br><span class="line">	return new Blob([ia], &#123;type:mimeString&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/24/nodeè¿›é˜¶-äºŒ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="å° å“‡">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lfå°å“‡">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/24/nodeè¿›é˜¶-äºŒ/" itemprop="url">
                  nodeè¿›é˜¶(äºŒ)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-06-24 16:49:46 / Modified: 16:52:02" itemprop="dateCreated datePublished" datetime="2018-06-24T16:49:46+08:00">2018-06-24</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/24/nodeè¿›é˜¶-ä¸€/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="å° å“‡">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lfå°å“‡">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/24/nodeè¿›é˜¶-ä¸€/" itemprop="url">
                  nodeè¿›é˜¶(ä¸€)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-06-24 01:36:40 / Modified: 16:34:56" itemprop="dateCreated datePublished" datetime="2018-06-24T01:36:40+08:00">2018-06-24</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä½œä¸ºå½“å‰å‰ç«¯å¿…é¡»æŒæ¡çš„å†…å®¹ä¹‹ä¸€ï¼Œnodeå·²ç»æˆä¸ºäº†å‰ç«¯çš„æ ‡é…ï¼Œå·²ç»å†ä¹Ÿä¸æ˜¯ä»¥å‰é¡µé¢ä»”ï¼Œè€Œæ˜¯å‘ç€å·¥ç¨‹å¸ˆé æ‹¢ã€‚è¿™å°±è¦æ±‚æˆ‘ä»¬é™¤äº†ç†Ÿæ‚‰æµè§ˆå™¨ç«¯çš„è¦æ±‚ä¹‹å¤–ï¼Œè¿˜éœ€è¦æ›´å¤šç†Ÿæ‚‰æœåŠ¡ç«¯çš„ä¸€äº›å†…å®¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸€èµ·æ¥åœ¨nodeæ–¹é¢æ¥è¿›é˜¶å§ã€‚</p>
<p>é¦–å…ˆæ¥çœ‹ä¸€ä¸ªå†…å®¹</p>
<p>å¼€å‘ç¯å¢ƒå’Œè°ƒè¯•å·¥å…·</p>
<h3 id="1ã€ç¯å¢ƒ"><a href="#1ã€ç¯å¢ƒ" class="headerlink" title="1ã€ç¯å¢ƒ"></a>1ã€ç¯å¢ƒ</h3><h4 id="CommonJs"><a href="#CommonJs" class="headerlink" title="CommonJs"></a>CommonJs</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">è¿™æ˜¯ä¸€ä¸ªJSæ¨¡å—ç®¡ç†è§„èŒƒ</span><br><span class="line"></span><br><span class="line">JSä¸­çš„æ¨¡å—è§„èŒƒï¼ˆCommonJSï¼ŒAMDï¼ŒCMDï¼‰</span><br><span class="line"></span><br><span class="line">åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹ï¼Œæ²¡æœ‰æ¨¡å—ä¹Ÿä¸æ˜¯ç‰¹åˆ«å¤§çš„é—®é¢˜ï¼Œæ¯•ç«Ÿç½‘é¡µç¨‹åºçš„å¤æ‚æ€§æœ‰é™</span><br><span class="line"></span><br><span class="line">ä½†æ˜¯åœ¨æœåŠ¡å™¨ç«¯ï¼Œä¸€å®šè¦æœ‰æ¨¡å—ï¼Œä¸æ“ä½œç³»ç»Ÿå’Œå…¶ä»–åº”ç”¨ç¨‹åºäº’åŠ¨ï¼Œå¦åˆ™æ ¹æœ¬æ²¡æ³•ç¼–ç¨‹ã€‚</span><br><span class="line"></span><br><span class="line">NodeJSæ˜¯CommonJSè§„èŒƒçš„å®ç°ï¼Œwebpack ä¹Ÿæ˜¯ä»¥CommonJSçš„å½¢å¼æ¥ä¹¦å†™ã€‚</span><br><span class="line"></span><br><span class="line">CommonJSå®šä¹‰çš„æ¨¡å—åˆ†ä¸º:&#123;æ¨¡å—å¼•ç”¨(require)&#125; &#123;æ¨¡å—å®šä¹‰(exports)&#125; &#123;æ¨¡å—æ ‡è¯†(module)&#125;</span><br><span class="line"></span><br><span class="line">require()ç”¨æ¥å¼•å…¥å¤–éƒ¨æ¨¡å—</span><br><span class="line"></span><br><span class="line">exportså¯¹è±¡ç”¨äºå¯¼å‡ºå½“å‰æ¨¡å—çš„æ–¹æ³•æˆ–å˜é‡ï¼Œå”¯ä¸€çš„å¯¼å‡ºå£</span><br><span class="line"></span><br><span class="line">moduleå¯¹è±¡å°±ä»£è¡¨æ¨¡å—æœ¬èº«ã€‚</span><br></pre></td></tr></table></figure>
<h4 id="global"><a href="#global" class="headerlink" title="global"></a>global</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æœåŠ¡å™¨ç«¯ç«¯æ²¡æœ‰BOMã€DOMï¼Œæ²¡æœ‰äº†windowå…¨å±€å¯¹è±¡ï¼Œæˆäº†global</span><br></pre></td></tr></table></figure>
<h4 id="process"><a href="#process" class="headerlink" title="process"></a>process</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å…¨å±€è¿›ç¨‹</span><br></pre></td></tr></table></figure>
<h3 id="2ã€è°ƒè¯•å·¥å…·"><a href="#2ã€è°ƒè¯•å·¥å…·" class="headerlink" title="2ã€è°ƒè¯•å·¥å…·"></a>2ã€è°ƒè¯•å·¥å…·</h3><p>æ–°å»ºä¸€ä¸ªjs</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\\app.js</span><br><span class="line"></span><br><span class="line">console.log(&quot;this is test&quot;);</span><br></pre></td></tr></table></figure>
<p>å¼€å¯ç»ˆç«¯ï¼Œè·‘ä¸€ä¸‹ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node app</span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨è¾“å…¥ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node --inspect-brk app.js</span><br></pre></td></tr></table></figure>
<p>ä¼šå‡ºç°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Debugger listening on ws://127.0.0.1:9229/1857a99c-6d02-4680-954d-29480f7bcc5e</span><br><span class="line">For help see https://nodejs.org/en/docs/inspector</span><br><span class="line">Debugger attached.</span><br></pre></td></tr></table></figure>
<p>æ‰“å¼€è°·æ­Œæµè§ˆå™¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chrome://inspect</span><br></pre></td></tr></table></figure>
<p>å‡ºç°å¦‚ä¸‹å†…å®¹</p>
<p><img src="/2018/06/24/nodeè¿›é˜¶-ä¸€/node_1.png" alt="bg"></p>
<p>ç‚¹å‡» inspect</p>
<p><img src="/2018/06/24/nodeè¿›é˜¶-ä¸€/node_2.png" alt="bg"></p>
<p>è¿™å°±æ˜¯nodeç§åº•ä¸‹è·‘çš„å†…å®¹ï¼Œå®ƒå°†å¾ˆå¤šæˆ‘ä»¬çœ‹ä¸åˆ°çš„å†…å®¹è¿›è¡Œäº†ç¼–è¯‘ï¼Œç”Ÿæˆäº†å—çº§ä½œç”¨åŸŸï¼›</p>
<h3 id="3ã€requireçš„ç‰¹æ€§"><a href="#3ã€requireçš„ç‰¹æ€§" class="headerlink" title="3ã€requireçš„ç‰¹æ€§"></a>3ã€requireçš„ç‰¹æ€§</h3><p>å…ˆçœ‹ä¸€ä¸ªdemo    </p>
<p>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ç”¨æ¥å‚¨å­˜æ¨¡å—å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//a.js</span><br><span class="line"></span><br><span class="line">console.log(&quot;this is a&quot;);</span><br><span class="line"></span><br><span class="line">let a = 1;</span><br><span class="line"></span><br><span class="line">module.exports.a = a;</span><br></pre></td></tr></table></figure>
<p>åœ¨å¤–åœ¨å»ºä¸€ä¸ªjsæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// b.js</span><br><span class="line"></span><br><span class="line">let a = require(&apos;./a&apos;);</span><br><span class="line"></span><br><span class="line">console.log(a.a) //1</span><br></pre></td></tr></table></figure>
<p>åˆ°æ­¤æˆ‘ä»¬æ¥åˆ†æå®ƒçš„å‡ ä¸ªç‰¹æ€§</p>
<h4 id="module-è¢«åŠ è½½çš„æ—¶å€™æ‰§è¡Œï¼ŒåŠ è½½åç¼“å­˜"><a href="#module-è¢«åŠ è½½çš„æ—¶å€™æ‰§è¡Œï¼ŒåŠ è½½åç¼“å­˜" class="headerlink" title="module è¢«åŠ è½½çš„æ—¶å€™æ‰§è¡Œï¼ŒåŠ è½½åç¼“å­˜"></a>module è¢«åŠ è½½çš„æ—¶å€™æ‰§è¡Œï¼ŒåŠ è½½åç¼“å­˜</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">åªåŠ è½½ä¸€æ¬¡ï¼Œä¹‹åç”¨çš„å­˜åœ¨ç¼“å­˜çš„å€¼</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ï¼š</span><br><span class="line"></span><br><span class="line">require(&apos;./a&apos;);</span><br><span class="line"></span><br><span class="line">require(&apos;./a&apos;);</span><br><span class="line"></span><br><span class="line">è¿™æ—¶å€™ä¼šè¾“å‡ºä¸€ä¸ªthis is a,è€Œä¸æ˜¯ä¸¤ä¸ª,</span><br></pre></td></tr></table></figure>
<h4 id="ä¸€æ—¦å‡ºç°æŸä¸ªæ¨¡å—è¢«å¾ªç¯åŠ è½½ï¼Œå°±è¾“å‡ºä»¥æ‰§è¡Œçš„éƒ¨åˆ†-è¿˜æœªæ‰§è¡Œçš„éƒ¨åˆ†ä¸ä¼šè¾“å‡º"><a href="#ä¸€æ—¦å‡ºç°æŸä¸ªæ¨¡å—è¢«å¾ªç¯åŠ è½½ï¼Œå°±è¾“å‡ºä»¥æ‰§è¡Œçš„éƒ¨åˆ†-è¿˜æœªæ‰§è¡Œçš„éƒ¨åˆ†ä¸ä¼šè¾“å‡º" class="headerlink" title="ä¸€æ—¦å‡ºç°æŸä¸ªæ¨¡å—è¢«å¾ªç¯åŠ è½½ï¼Œå°±è¾“å‡ºä»¥æ‰§è¡Œçš„éƒ¨åˆ†,è¿˜æœªæ‰§è¡Œçš„éƒ¨åˆ†ä¸ä¼šè¾“å‡º"></a>ä¸€æ—¦å‡ºç°æŸä¸ªæ¨¡å—è¢«å¾ªç¯åŠ è½½ï¼Œå°±è¾“å‡ºä»¥æ‰§è¡Œçš„éƒ¨åˆ†,è¿˜æœªæ‰§è¡Œçš„éƒ¨åˆ†ä¸ä¼šè¾“å‡º</h4><p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨æ­¤å¤„å»ºç«‹ä¸‰ä¸ªæ–‡ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//06_run.js</span><br><span class="line"></span><br><span class="line">const A = require(&apos;./05_require/a&apos;);</span><br><span class="line"></span><br><span class="line">//æ­¤å¤„å› ä¸ºä¸Šé¢å·²ç»å¼•å…¥è¿‡äº†Bï¼Œæ‰€ä»¥ä¸ä¼šå†è¿›è¡Œå¤„ç†ï¼Œæ‰€ä»¥æ­¤å¤„ç›´æ¥ä»ç¼“å­˜ä¸­å–å€¼;</span><br><span class="line">const B = require(&apos;./05_require/b&apos;);</span><br></pre></td></tr></table></figure></p>
<p>æ­¤å¤„å»ºç«‹æ¨¡å—</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//05_require/a</span><br><span class="line"></span><br><span class="line">module.exports.test = &apos;è¿™æ˜¯A&apos;;</span><br><span class="line"></span><br><span class="line">const B = require(&apos;./b&apos;);</span><br><span class="line"></span><br><span class="line">console.log(&apos;è¿™æ˜¯åœ¨Aé‡Œé¢çš„å¼•å…¥çš„B&apos;+B.test);</span><br><span class="line"></span><br><span class="line">module.exports.test = &apos;è¿™æ˜¯AA&apos;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//05_require/b</span><br><span class="line"></span><br><span class="line">module.exports.test = &apos;è¿™æ˜¯B&apos;;</span><br><span class="line"></span><br><span class="line">const A = require(&apos;./a&apos;);</span><br><span class="line"></span><br><span class="line">console.log(&apos;è¿™æ˜¯åœ¨Bé‡Œé¢çš„å¼•å…¥çš„A&apos;+A.test);</span><br><span class="line"></span><br><span class="line">module.exports.test = &apos;è¿™æ˜¯BB&apos;;</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œnode 06_runä¹‹åï¼Œæˆ‘ä»¬ä¼šå‘ç°è¾“å‡º</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¿™æ˜¯åœ¨Bé‡Œé¢çš„å¼•å…¥çš„Aè¿™æ˜¯A</span><br><span class="line">è¿™æ˜¯åœ¨Aé‡Œé¢çš„å¼•å…¥çš„Bè¿™æ˜¯BB</span><br></pre></td></tr></table></figure>
<p>è¿™å°±æ˜¯requireçš„ä¼šé‡åˆ°çš„é—®é¢˜ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬æ·±å…¥åˆ¨æä¸€ä¸ªé—®é¢˜ï¼Œäº†è§£ä»–çš„åˆ©å¼Šï¼Œå¥½çš„æ–¹é¢åº”ç”¨ï¼Œä¸å¥½çš„æ–¹é¢é¿å…å®ƒï¼Œä¸ç„¶ï¼Œå½“ä»£ç ä¸Šåƒè¡Œçš„æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨æ›´æ”¹ï¼Œå¯èƒ½å°±ä¸ºæ—¶å·²æ™šï¼Œæ‚”ä¸å½“åˆã€‚æ‰€ä»¥ï¼Œäº†è§£ä¸€é—¨è¯­è¨€çš„æ·±å±‚æ¬¡çš„ä¸œè¥¿ï¼Œæ˜¯æˆ‘ä»¬å¿…é¡»è¦æŒæ¡çš„å†…å®¹ã€‚    </p>
<h3 id="4ã€ç³»ç»Ÿå†…ç½®æ¨¡å—"><a href="#4ã€ç³»ç»Ÿå†…ç½®æ¨¡å—" class="headerlink" title="4ã€ç³»ç»Ÿå†…ç½®æ¨¡å—"></a>4ã€ç³»ç»Ÿå†…ç½®æ¨¡å—</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// 07_run.js</span><br><span class="line">const fs = require(&apos;fs&apos;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//è¯»æ–‡ä»¶ä¸ºå¼‚æ­¥æ“ä½œï¼Œéœ€è¦å›æ‰æ¥è·å–å€¼</span><br><span class="line">const nnn = fs.readFile(&apos;./07_fs.js&apos;, (error, data) =&gt; &#123;</span><br><span class="line">   </span><br><span class="line">    if(error)&#123;</span><br><span class="line">        console.log(error)</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        console.log(data)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">console.log(nnn)</span><br><span class="line"></span><br><span class="line">//&lt;Buffer 0a 63 6f 6e 73 74 20 66 73 20 3d 20 72 65 71 75 69 72 65 28 27 66 73 27 29 3b 0a 0a 2f 2f e8 af bb e6 96 87 e4 bb b6 e4 b8 ba e5 bc 82 e6 ad a5 e6 93 ... &gt;</span><br><span class="line">è¿™æ˜¯ä¸€ä¸ª16è¿›åˆ¶çš„æ•°å­—</span><br><span class="line"></span><br><span class="line">fsæ“ä½œäºŒè¿›åˆ¶æµ</span><br></pre></td></tr></table></figure>
<p>å½“æ›´æ”¹ä¸º</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">const fs = require(&apos;fs&apos;);</span><br><span class="line"></span><br><span class="line">//è¯»æ–‡ä»¶ä¸ºå¼‚æ­¥æ“ä½œï¼Œéœ€è¦å›æ‰æ¥è·å–å€¼</span><br><span class="line">const nnn = fs.readFile(&apos;./07_fs.js&apos;, (error, data) =&gt; &#123;</span><br><span class="line">   </span><br><span class="line">    if(error)&#123;</span><br><span class="line">        console.log(error)</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        console.log(data.toString())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">console.log(nnn) //è¾“å‡ºçš„å°±æ˜¯å½“å‰çš„å†…å®¹</span><br></pre></td></tr></table></figure>
<h3 id="5ã€ç³»ç»Ÿå¤–ç½®æ¨¡å—"><a href="#5ã€ç³»ç»Ÿå¤–ç½®æ¨¡å—" class="headerlink" title="5ã€ç³»ç»Ÿå¤–ç½®æ¨¡å—"></a>5ã€ç³»ç»Ÿå¤–ç½®æ¨¡å—</h3><p>ä¾‹å¦‚å¼•å…¥chalkï¼Œé¢œè‰²æ¨¡å—</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm init </span><br><span class="line"></span><br><span class="line">npm install chalk --save-dev</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™é‡Œæœ‰ä¸ªæ³¨æ„çš„ç‚¹</p>
<p>dependenciesï¼š æ‰“åŒ…çš„ä¾èµ–</p>
<p>devDependenciesï¼š å¼€å‘çš„ä¾èµ–</p>
<ul>
<li>npmåšäº†ä¸€ä¸ªä¼˜åŒ–æ‰€æœ‰çš„å†…å®¹ï¼Œéƒ½ä¼šæ”¾ç½®ç¬¬ä¸€å±‚ï¼Œè€Œä¸æ˜¯å…¨æ”¾åœ¨æ–‡ä»¶å¤¹å†…éƒ¨ï¼Œæ‰€ä»¥æˆ‘ä»¬æ˜æ˜ä¸‹è½½äº†ä¸€ä¸ªchalk,ä½†æ˜¯å´æœ‰å¥½å‡ ä¸ªåŒ…ï¼Œä»¥å‰ä¼šå…¨éƒ¨æ”¾ç½®åˆ°chalkå†…éƒ¨çš„node_modulesï¼Œä½†æ˜¯ç°åœ¨ä¸ä¼šäº†ã€‚è¿™æ ·å°±åœ¨ä¸€çº§node_modulesï¼Œå¦ä¾§ä¾èµ–å¤ªå¤šï¼Œä¼šå¯¼è‡´node_modules,ä¼šéå¸¸å¤§</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªå‘½ä»¤æŸ¥çœ‹å…¨å±€å®‰è£…çš„åœ°ç‚¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm root -g</span><br></pre></td></tr></table></figure>
<p>ä¼šå¾—åˆ°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/lib/node_modules</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œå°±æ˜¯æˆ‘ä»¬å…¨å±€å®‰è£…çš„ä¸€äº›å†…å®¹</p>
<h3 id="6ã€exports-å’Œ-module-exportsçš„åŒºåˆ«"><a href="#6ã€exports-å’Œ-module-exportsçš„åŒºåˆ«" class="headerlink" title="6ã€exports å’Œ module.exportsçš„åŒºåˆ«"></a>6ã€exports å’Œ module.exportsçš„åŒºåˆ«</h3><p>nodeä¸­æ¯ä¸ªæ¨¡å—æŠ›å‡ºçš„å…¶å®æ˜¯moduleæ¥å®šä¹‰çš„ï¼Œexportså…¶å®æ˜¯module.exports çš„ç®€å†™ï¼Œä½†æ˜¯è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// 08_require.js</span><br><span class="line"></span><br><span class="line">const v = require(&apos;./08_run&apos;);</span><br><span class="line"></span><br><span class="line">console.log(v.test);</span><br><span class="line"></span><br><span class="line">//08_run.js</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line"></span><br><span class="line">    a:1,</span><br><span class="line"></span><br><span class="line">    test: 10,</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœç›´æ¥å†™exports = {} ,è¿™æ˜¯é”™è¯¯çš„ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Œå› ä¸ºä½ æ”¹å˜äº†ä»–çš„æŒ‡å‘</p>
<p>module.exports è¿™ä¸ªçš„æŒ‡å‘æ˜¯moduleï¼Œè€Œexports = {} ,è¿™ä¸ªæŒ‡å‘ä¸æ˜¯moduleäº†ï¼Œæ‰€ä»¥è¯»å–ä¸åˆ°</p>
<h3 id="7ã€global"><a href="#7ã€global" class="headerlink" title="7ã€global"></a>7ã€global</h3><p>æµè§ˆå™¨çš„å…¨å±€windowï¼Œnodeåˆ™æ˜¯global</p>
<p>è¿™é‡Œæˆ‘ä»¬é‡ç‚¹ä»‹ç»ä¸€ä¸‹setImmediate</p>
<p>æˆ‘ä»¬å…ˆåœ¨è¿™é‡Œæ‰©å±•ä¸€ä¸‹çŸ¥è¯†ç‚¹ï¼š</p>
<ul>
<li><p>åŒæ­¥ä»»åŠ¡æŒ‡çš„æ˜¯ï¼Œåœ¨ä¸»çº¿ç¨‹ä¸Šæ’é˜Ÿæ‰§è¡Œçš„ä»»åŠ¡ï¼Œåªæœ‰å‰ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œæ‰èƒ½æ‰§è¡Œåä¸€ä¸ªä»»åŠ¡ï¼›</p>
</li>
<li><p>å¼‚æ­¥ä»»åŠ¡æŒ‡çš„æ˜¯ï¼Œä¸è¿›å…¥ä¸»çº¿ç¨‹ã€è€Œè¿›å…¥â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼ˆtask queueï¼‰çš„ä»»åŠ¡ï¼Œåªæœ‰â€ä»»åŠ¡é˜Ÿåˆ—â€é€šçŸ¥ä¸»çº¿ç¨‹ï¼ŒæŸä¸ªå¼‚æ­¥ä»»åŠ¡å¯ä»¥æ‰§è¡Œäº†ï¼Œè¯¥ä»»åŠ¡æ‰ä¼šè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</p>
</li>
</ul>
<p>â€œä»»åŠ¡é˜Ÿåˆ—â€æ˜¯ä¸€ä¸ªäº‹ä»¶çš„é˜Ÿåˆ—ï¼ˆä¹Ÿå¯ä»¥ç†è§£æˆæ¶ˆæ¯çš„é˜Ÿåˆ—ï¼‰ï¼ŒIOè®¾å¤‡å®Œæˆä¸€é¡¹ä»»åŠ¡ï¼Œå°±åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€ä¸­æ·»åŠ ä¸€ä¸ªäº‹ä»¶ï¼Œè¡¨ç¤ºç›¸å…³çš„å¼‚æ­¥ä»»åŠ¡å¯ä»¥è¿›å…¥â€æ‰§è¡Œæ ˆâ€äº†ã€‚ä¸»çº¿ç¨‹è¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œå°±æ˜¯è¯»å–é‡Œé¢æœ‰å“ªäº›äº‹ä»¶ã€‚</p>
<p>â€œä»»åŠ¡é˜Ÿåˆ—â€ä¸­çš„äº‹ä»¶ï¼Œé™¤äº†IOè®¾å¤‡çš„äº‹ä»¶ä»¥å¤–ï¼Œè¿˜åŒ…æ‹¬ä¸€äº›ç”¨æˆ·äº§ç”Ÿçš„äº‹ä»¶ï¼ˆæ¯”å¦‚é¼ æ ‡ç‚¹å‡»ã€é¡µé¢æ»šåŠ¨ç­‰ç­‰ï¼‰ã€‚åªè¦æŒ‡å®šè¿‡å›è°ƒå‡½æ•°ï¼Œè¿™äº›äº‹ä»¶å‘ç”Ÿæ—¶å°±ä¼šè¿›å…¥â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œç­‰å¾…ä¸»çº¿ç¨‹è¯»å–ã€‚</p>
<p>æ‰€è°“â€å›è°ƒå‡½æ•°â€ï¼ˆcallbackï¼‰ï¼Œå°±æ˜¯é‚£äº›ä¼šè¢«ä¸»çº¿ç¨‹æŒ‚èµ·æ¥çš„ä»£ç ã€‚å¼‚æ­¥ä»»åŠ¡å¿…é¡»æŒ‡å®šå›è°ƒå‡½æ•°ï¼Œå½“ä¸»çº¿ç¨‹å¼€å§‹æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œå°±æ˜¯æ‰§è¡Œå¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚</p>
<p>â€œä»»åŠ¡é˜Ÿåˆ—â€æ˜¯ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œæ’åœ¨å‰é¢çš„äº‹ä»¶ï¼Œä¼˜å…ˆè¢«ä¸»çº¿ç¨‹è¯»å–ã€‚ä¸»çº¿ç¨‹çš„è¯»å–è¿‡ç¨‹åŸºæœ¬ä¸Šæ˜¯è‡ªåŠ¨çš„ï¼Œåªè¦æ‰§è¡Œæ ˆä¸€æ¸…ç©ºï¼Œâ€ä»»åŠ¡é˜Ÿåˆ—â€ä¸Šç¬¬ä¸€ä½çš„äº‹ä»¶å°±è‡ªåŠ¨è¿›å…¥ä¸»çº¿ç¨‹ã€‚ä½†æ˜¯ï¼Œç”±äºå­˜åœ¨åæ–‡æåˆ°çš„â€å®šæ—¶å™¨â€åŠŸèƒ½ï¼Œä¸»çº¿ç¨‹é¦–å…ˆè¦æ£€æŸ¥ä¸€ä¸‹æ‰§è¡Œæ—¶é—´ï¼ŒæŸäº›äº‹ä»¶åªæœ‰åˆ°äº†è§„å®šçš„æ—¶é—´ï¼Œæ‰èƒ½è¿”å›ä¸»çº¿ç¨‹ã€‚</p>
<p>è¿™é‡Œå¯ä»¥è¯¦ç»†æŸ¥çœ‹è¿™ä¸ª <a href="https://www.cnblogs.com/c3gen/p/6170504.html" target="_blank" rel="noopener">https://www.cnblogs.com/c3gen/p/6170504.html</a></p>
<p>è¿™é‡ŒsetImmediate å’Œ setTimeoutç±»ä¼¼ï¼Œæ˜¯ä¸€ä¸ªå¼‚æ­¥çš„å‡½æ•°ï¼Œå®ƒæ˜¯è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œå½“å®Œæˆçš„æ—¶å€™ï¼Œå°±ä¼šæ‰§è¡Œå®ƒ;</p>
<h3 id="8ã€processè¿›ç¨‹"><a href="#8ã€processè¿›ç¨‹" class="headerlink" title="8ã€processè¿›ç¨‹"></a>8ã€processè¿›ç¨‹</h3><p>ç±»ä¼¼äºæˆ‘ä»¬å¸¸ç”¨çš„</p>
<h3 id="9ã€debug"><a href="#9ã€debug" class="headerlink" title="9ã€debug"></a>9ã€debug</h3>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/04/ç²¾é€šwebpackä¹‹è·¯ï¼ˆ1ï¼‰/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="å° å“‡">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lfå°å“‡">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/04/ç²¾é€šwebpackä¹‹è·¯ï¼ˆ1ï¼‰/" itemprop="url">
                  ç²¾é€šwebpackä¹‹è·¯ï¼ˆ1ï¼‰
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-06-04 09:47:23 / Modified: 10:11:14" itemprop="dateCreated datePublished" datetime="2018-06-04T09:47:23+08:00">2018-06-04</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>é¦–å…ˆæ¥ä¸ªåºè¨€ï¼Œä»è¿™ç¯‡å¼€å§‹ï¼Œæˆ‘å°†é‡ç‚¹æŠŠwebpackä½œä¸ºä¸€ä¸ªé‡ç‚¹ï¼Œæ¥ç ”ç©¶å®ƒçš„æ ¸å¿ƒå†…å®¹</p>
<p>1ã€</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mkdir webpack-demo</span><br><span class="line"></span><br><span class="line">npm init </span><br><span class="line"></span><br><span class="line">npm install --save-dev webpack</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„ç‚¹ï¼ˆè¿™é‡Œçš„å‚æ•°â€“saveæ˜¯è¦ä¿å­˜åˆ°package.jsonä¸­ï¼Œdevæ˜¯åœ¨å¼€å‘æ—¶ä½¿ç”¨è¿™ä¸ªåŒ…ï¼Œè€Œç”Ÿäº§ç¯å¢ƒä¸­ä¸ä½¿ç”¨ã€‚ï¼‰</p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å®‰è£…å®Œæ¯•</p>
<p>é‚£ä¹ˆé—®é¢˜å°±æ¥äº†</p>
<p>è¿™é‡Œçš„å‚æ•°â€“saveæ˜¯è¦ä¿å­˜åˆ°package.jsonä¸­ï¼Œdevæ˜¯åœ¨å¼€å‘æ—¶ä½¿ç”¨è¿™ä¸ªåŒ…ï¼Œè€Œç”Ÿäº§ç¯å¢ƒä¸­ä¸ä½¿ç”¨ã€‚</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/01/webpack-3ä¸­hashã€chunkhashå’Œcontenthashä¸‰è€…çš„åŒºåˆ«/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="å° å“‡">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lfå°å“‡">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/01/webpack-3ä¸­hashã€chunkhashå’Œcontenthashä¸‰è€…çš„åŒºåˆ«/" itemprop="url">
                  webpack 3ä¸­hashã€chunkhashå’Œcontenthashä¸‰è€…çš„åŒºåˆ«
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-06-01 17:33:37 / Modified: 17:51:23" itemprop="dateCreated datePublished" datetime="2018-06-01T17:33:37+08:00">2018-06-01</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>é¦–å…ˆåœ¨è¿™é‡Œç¥å¤§å®¶61å„¿ç«¥èŠ‚å¿«ä¹ï¼Œæ–°çš„ä¸€ä¸ªæœˆå¼€å§‹äº†ï¼Œé‚£ä¹ˆä½œä¸ºä¸ªäººè¦æœ‰ä¸€ä¸ªæ–°çš„ç›®æ ‡ï¼Œé‚£æ–°çš„ç›®æ ‡æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>æ¯å¤©æ›´æ–°ä¸€ç¯‡åšå®¢ï¼Œæ‰©å±•æ¨ªå‘çºµå‘ç»´åº¦ï¼Œå¹¶ä¸”åŠ å¼ºæ·±åº¦ï¼Œç¥è‡ªå·±å¥½è¿å§ï½ï¼</p>
<p>å¥½äº†ï¼Œé‚£ä¹ˆæ¥å¼€å§‹ç¬¬ä¸€ç¯‡å†…å®¹ï¼š</p>
<p>åœ¨ä½¿ç”¨webpack 3ä¸­ï¼Œæ–‡ä»¶åçš„hashå€¼å¯ä»¥æœ‰ä¸‰ç§hashç”Ÿæˆæ–¹å¼ï¼Œé‚£å…·ä½“ä½¿ç”¨å“ªä¸€ç§å‘¢ï¼Ÿ </p>
<h3 id="hash"><a href="#hash" class="headerlink" title="hash"></a>hash</h3><p>å¦‚æœéƒ½ä½¿ç”¨hashçš„è¯ï¼Œæ‰€æœ‰æ–‡ä»¶çš„hashéƒ½æ˜¯ä¸€æ ·çš„ï¼Œè€Œä¸”æ¯æ¬¡ä¿®æ”¹ä»»ä½•ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€æœ‰æ–‡ä»¶åçš„hashè‡³éƒ½å°†æ”¹å˜ã€‚æ‰€ä»¥ä¸€æ—¦ä¿®æ”¹äº†ä»»ä½•ä¸€ä¸ªæ–‡ä»¶ï¼Œæ•´ä¸ªé¡¹ç›®çš„æ–‡ä»¶ç¼“å­˜éƒ½å°†å¤±æ•ˆ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">output:&#123;</span><br><span class="line"> 	path:path.resolve(__dirname,&apos;./dist&apos;),</span><br><span class="line"> 	publicPath: &apos;/dist/&apos;,</span><br><span class="line"> 	filename: &apos;[name]-[hash].js&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="chunkhash"><a href="#chunkhash" class="headerlink" title="chunkhash"></a>chunkhash</h3><p>æ—¢ç„¶hashçš„ç”¨æ³•æœ‰è¿™ç§ç¼ºé™·ï¼Œé‚£æ˜¯å¦æœ‰æ›´å¥½çš„åŠæ³•ï¼Œä½¿åªæœ‰è¢«ä¿®æ”¹äº†çš„æ–‡ä»¶çš„æ–‡ä»¶åhashå€¼ä¿®æ”¹å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯ä½¿ç”¨chunkhashã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">output:&#123;</span><br><span class="line">    path:path.resolve(__dirname,&apos;./dist&apos;),</span><br><span class="line">    publicPath: &apos;/dist/&apos;,</span><br><span class="line">    filename: &apos;[name]-[chunkhash].js&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶è¿™æ ·åšè¿˜æ˜¯æœ‰é—®é¢˜ï¼Œå°±æ˜¯å¦‚æœæˆ‘ä¸€ä¸ªjsæ–‡ä»¶é‡Œé¢å¼•å…¥äº†cssæ–‡ä»¶ã€‚è¿™æ—¶è¦æ˜¯æˆ‘ä¿®æ”¹äº†jsï¼Œä½†æ²¡ä¿®æ”¹cssï¼Œèƒ½å¦è®©cssèƒ½å¤Ÿç»§ç»­åˆ©ç”¨ç¼“å­˜å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥ï¼</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨Extract-text-webpack-pluginæ’ä»¶å°†cssæ–‡ä»¶ä»jsä¸­åˆ†ç¦»å‡ºæ¥ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    test: /\.css$/,</span><br><span class="line">    use: ExtractTextPlugin.extract(&#123;</span><br><span class="line">        fallback: &quot;style-loader&quot;,</span><br><span class="line">        use: &#123;</span><br><span class="line">            loader:&quot;css-loader&quot;,</span><br><span class="line">            options:&#123;</span><br><span class="line">                minimize: true //csså‹ç¼©</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åè®¾ç½®cssçš„plugin</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">new ExtractTextPlugin(&#123;</span><br><span class="line">  	filename: &apos;css/[name]-[chunkhash].css&apos;,</span><br><span class="line">&#125;),</span><br></pre></td></tr></table></figure>
<h3 id="contenthash"><a href="#contenthash" class="headerlink" title="contenthash"></a>contenthash</h3><p>å¯¹cssä½¿ç”¨äº†chunkhashä¹‹åï¼Œæˆ‘ä»¬æµ‹è¯•ä¼šå‘ç°ï¼Œå¦‚æœä¿®æ”¹äº†jsç›´æ¥ï¼Œcssæ–‡ä»¶åçš„hashå€¼ç¡®å®æ²¡å˜ï¼Œä½†è¿™æ—¶è¦æ˜¯æˆ‘ä»¬ä¿®æ”¹cssæ–‡ä»¶çš„è¯ï¼Œæˆ‘ä»¬å°±ä¼šå‘ç°cssæ–‡ä»¶åçš„hashå€¼å±…ç„¶æ²¡å˜åŒ–ï¼Œè¿™æ ·å°±å¯¼è‡´æˆ‘ä»¬çš„éè¦†ç›–å‘å¸ƒcssæ–‡ä»¶å¤±æ•ˆäº†ã€‚æ‰€ä»¥è¿™é‡Œéœ€è¦æ³¨æ„å°±æ˜¯cssæ–‡ä»¶å¿…é¡»ä½¿ç”¨contenthashã€‚å°†ä¸Šé¢çš„cssæ’ä»¶é…ç½®æ”¹ä¸ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">new ExtractTextPlugin(&#123;</span><br><span class="line">    filename: &apos;css/[name]-[contenthash].css&apos;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">å° å“‡</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">53</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">å° å“‡</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme â€“ <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Muse</a> v6.4.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.0"></script>



  



  










  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
